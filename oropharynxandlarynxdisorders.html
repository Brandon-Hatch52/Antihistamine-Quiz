<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EENT – Disorders of the Oropharynx & Larynx Quiz</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #0f172a;
      color: #e5e7eb;
    }
    .container {
      max-width: 900px;
      margin: 36px auto;
      padding: 24px 28px 32px;
      background: #020617;
      border-radius: 16px;
      box-shadow: 0 18px 45px rgba(15,23,42,0.85);
      border: 1px solid #1f2937;
    }
    h1 {
      margin-top: 0;
      text-align: center;
      font-size: 2rem;
    }
    .meta {
      text-align: center;
      margin-bottom: 12px;
      color: #9ca3af;
      font-size: 0.95rem;
    }
    #question-number {
      font-weight: 600;
    }
    #question-text {
      font-size: 1.05rem;
      margin: 18px 0 14px;
      line-height: 1.45;
      white-space: pre-wrap;
    }
    .choices {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 18px;
    }
    .choice-btn {
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid #374151;
      background: #020617;
      cursor: pointer;
      text-align: left;
      transition: background 0.15s, border-color 0.15s, transform 0.05s, box-shadow 0.15s;
      font-size: 0.97rem;
      color: #e5e7eb;
      box-shadow: 0 8px 20px rgba(15,23,42,0.75);
    }
    .choice-btn:hover {
      background: #111827;
      border-color: #4b5563;
      transform: translateY(-1px);
      box-shadow: 0 12px 26px rgba(15,23,42,0.9);
    }
    .choice-btn.correct {
      background: #064e3b;
      border-color: #34d399;
    }
    .choice-btn.incorrect {
      background: #7f1d1d;
      border-color: #f87171;
    }
    .choice-btn.disabled {
      pointer-events: none;
      opacity: 0.96;
    }
    #feedback {
      min-height: 40px;
      padding: 8px 10px;
      border-radius: 8px;
      font-size: 0.96rem;
      background: #020617;
      border-left: 4px solid transparent;
    }
    #feedback.correct {
      border-left-color: #22c55e;
      background: rgba(22,163,74,0.12);
    }
    #feedback.incorrect {
      border-left-color: #f97373;
      background: rgba(185,28,28,0.14);
    }
    #explanation {
      margin-top: 4px;
      color: #d1d5db;
      white-space: pre-wrap;
    }
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 18px;
      gap: 10px;
      flex-wrap: wrap;
    }
    button.nav-btn {
      padding: 9px 16px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      background: #4c6fff;
      color: white;
      box-shadow: 0 8px 20px rgba(37,99,235,0.7);
      transition: background 0.15s, transform 0.05s, box-shadow 0.15s;
      white-space: nowrap;
    }
    button.nav-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      box-shadow: none;
    }
    button.nav-btn:hover:not(:disabled) {
      background: #3b5af8;
    }
    button.nav-btn:active:not(:disabled) {
      transform: translateY(1px);
      box-shadow: 0 5px 14px rgba(37,99,235,0.8);
    }
    #score-display {
      font-size: 0.9rem;
      color: #cbd5f5;
    }
    #final-score {
      margin-top: 18px;
      padding-top: 14px;
      border-top: 1px solid #1f2937;
      font-weight: 600;
      text-align: center;
      white-space: pre-wrap;
    }
    .pill {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 999px;
      background: #111827;
      color: #a5b4fc;
      font-size: 0.8rem;
      margin-top: 6px;
    }
    @media (max-width: 640px) {
      .container {
        margin: 16px;
        padding: 20px 18px 24px;
      }
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
      #score-display {
        text-align: center;
      }
    }
  </style>
</head>

<body>
<div class="container">
  <h1>EENT – Disorders of the Oropharynx &amp; Larynx</h1>
  <div class="meta">
    Quiz based on the “Disorders of the Oropharynx and Larynx” lecture slides.<br>
    <span id="question-number"></span> · <span id="progress"></span>
    <div class="pill">50 MCQs · Sore throat, abscesses, croup, epiglottitis, hoarseness</div>
  </div>

  <div id="question-text"></div>
  <div class="choices" id="choices-container"></div>

  <div id="feedback">
    <span id="feedback-label"></span>
    <div id="explanation"></div>
  </div>

  <div class="controls">
    <button class="nav-btn" id="prev-btn">⟵ Previous</button>
    <div id="score-display">Score: 0 / 0</div>
    <button class="nav-btn" id="next-btn">Next ⟶</button>
  </div>

  <div id="final-score"></div>
</div>

<script>
  const questions = [
    // 1–6: Differential sore throat (ENT-O&L-1 / ENT-O&L-4)
    {
      q: "[ENT-O&L-1] A 22-year-old presents with sore throat, rhinorrhea, cough, and conjunctivitis. Exam shows mild erythema with scant exudate. Which diagnosis is most likely?",
      choices: ["Streptococcal pharyngitis/tonsillitis", "EBV pharyngitis/tonsillitis", "Viral pharyngitis", "Diphtheria"],
      correct: 2,
      explanation: "Viral pharyngitis commonly presents with URI symptoms (cough/rhinorrhea/conjunctivitis). Strep typically has minimal URI symptoms."
    },
    {
      q: "[ENT-O&L-1] A 35-year-old has chronic sore throat and frequent throat clearing, worse after meals and when lying down. No fever. Which noninfectious cause is most likely?",
      choices: ["GERD/LPR", "Peritonsillar abscess", "Epiglottitis", "Retropharyngeal abscess"],
      correct: 0,
      explanation: "Reflux (GERD/LPR) is a common noninfectious contributor to chronic throat symptoms."
    },
    {
      q: "[ENT-O&L-1] A 28-year-old has sore throat with white plaques on the tongue and buccal mucosa that scrape off and leave an erythematous base. Which diagnosis fits best?",
      choices: ["Candidiasis", "Diphtheria", "Streptococcal pharyngitis", "Tonsilloliths"],
      correct: 0,
      explanation: "Scrapable white plaques suggest oral candidiasis; diphtheria pseudomembrane is typically adherent and bleeds if removed."
    },
    {
      q: "[ENT-O&L-1] A 19-year-old has sore throat plus painful vesicular lesions on the lips and oral mucosa. Which etiology is most likely?",
      choices: ["HSV", "GABHS", "EBV", "Diphtheria"],
      correct: 0,
      explanation: "Herpes simplex can cause painful vesicular lesions and odynophagia."
    },
    {
      q: "[ENT-O&L-1] A child presents with sore throat and oral ulcers plus a rash on the hands and feet. Which condition is most likely?",
      choices: ["Hand-foot-mouth disease", "Diphtheria", "Epiglottitis", "Ludwig angina"],
      correct: 0,
      explanation: "Hand-foot-mouth disease classically causes oral lesions plus hand/foot rash."
    },
    {
      q: "[ENT-O&L-4] A patient with sore throat reports a “foreign body” sensation and foul breath. Exam shows a small white/yellow concretion in a tonsillar crypt. Diagnosis?",
      choices: ["Tonsillolith", "Peritonsillar abscess", "Retropharyngeal abscess", "Diphtheria"],
      correct: 0,
      explanation: "Tonsilloliths (tonsil stones) can cause halitosis and foreign-body sensation."
    },

    // 7–15: Strep pharyngitis/tonsillitis (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-2] A 16-year-old has sudden sore throat, high fever, odynophagia, tender anterior cervical lymphadenopathy, and minimal rhinorrhea. Most likely diagnosis?",
      choices: ["Viral pharyngitis", "Streptococcal pharyngitis/tonsillitis", "EBV pharyngitis/tonsillitis", "Allergic rhinitis with postnasal drip"],
      correct: 1,
      explanation: "Strep pharyngitis commonly has sudden onset, fever, tender anterior cervical nodes, and minimal URI symptoms."
    },
    {
      q: "[ENT-O&L-2] Which exam finding is described as common in streptococcal pharyngitis/tonsillitis in the lecture?",
      choices: ["Palatal petechiae", "Diffuse wheezing", "Trismus with uvular deviation", "Tripod positioning with drooling"],
      correct: 0,
      explanation: "Palatal petechiae are noted as a common finding in strep pharyngitis/tonsillitis."
    },
    {
      q: "[ENT-O&L-2] A patient has a negative rapid antigen strep test but persistent high suspicion for GABHS. What is the recommended next step?",
      choices: ["No further testing", "Standard throat culture", "Empiric antivirals", "CT neck with contrast"],
      correct: 1,
      explanation: "When rapid testing is negative, a standard throat culture should be obtained."
    },
    {
      q: "[ENT-O&L-2] The lecture notes the rapid strep test has which typical performance characteristics?",
      choices: ["Sensitivity 70–90% and specificity 90–100%", "Sensitivity 95–99% and specificity 60–70%", "Sensitivity 40–50% and specificity 40–50%", "Sensitivity 99% and specificity 99%"],
      correct: 0,
      explanation: "Rapid antigen detection is described as sensitivity ~70–90% and specificity ~90–100%."
    },
    {
      q: "[ENT-O&L-2] First-line antibiotic option(s) for confirmed GABHS pharyngitis in the lecture includes:",
      choices: ["Penicillin VK or amoxicillin for 10 days", "Doxycycline for 5 days", "Levofloxacin for 3 days", "Clindamycin only (always)"],
      correct: 0,
      explanation: "First-line therapy is penicillin-class therapy (penicillin VK or amoxicillin) for 10 days."
    },
    {
      q: "[ENT-O&L-2] A single-dose IM option described as effective for GABHS pharyngitis is:",
      choices: ["IM bicillin (penicillin G benzathine) x1", "IM ceftriaxone x1", "IM vancomycin x1", "IM gentamicin x1"],
      correct: 0,
      explanation: "IM penicillin G benzathine (Bicillin) x1 is described as effective."
    },
    {
      q: "[ENT-O&L-2] A patient with true penicillin allergy needs treatment for confirmed strep pharyngitis. Which medication class is listed as an alternative?",
      choices: ["Macrolides (e.g., azithromycin/clarithromycin)", "Topical antifungals", "Antivirals", "Proton pump inhibitors"],
      correct: 0,
      explanation: "Macrolides are listed as alternatives for penicillin-allergic patients (along with select cephalosporins and clindamycin)."
    },
    {
      q: "[ENT-O&L-2] According to the lecture, patients may return to work or school after how long on antibiotics for strep pharyngitis?",
      choices: ["After 24 hours", "After 72 hours", "After 7 days", "Only after completing the full 10-day course"],
      correct: 0,
      explanation: "The lecture notes return to work/school 24 hours after initiating antibiotic therapy."
    },
    {
      q: "[ENT-O&L-2] Scarlet fever associated with strep throat is due to:",
      choices: ["Pyrogenic exotoxin from GABHS", "EBV-related immune complexes", "Diphtheria toxin", "Viral cytopathic effect"],
      correct: 0,
      explanation: "Scarlet fever is described as resulting from pyrogenic exotoxin released by GABHS."
    },

    // 16–20: EBV pharyngitis/tonsillitis (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A 19-year-old has fatigue, sore throat, posterior cervical lymphadenopathy, and splenomegaly. Most likely diagnosis?",
      choices: ["Streptococcal pharyngitis", "EBV infectious mononucleosis", "Diphtheria", "Croup"],
      correct: 1,
      explanation: "EBV mono classically presents with fatigue, posterior cervical lymphadenopathy, and splenomegaly."
    },
    {
      q: "[ENT-O&L-2] Which lab pattern most supports EBV mono in a symptomatic patient?",
      choices: ["Lymphocytosis", "Marked neutrophilia with left shift", "Severe thrombocytopenia as the hallmark", "Isolated elevated procalcitonin"],
      correct: 0,
      explanation: "EBV commonly produces lymphocytosis."
    },
    {
      q: "[ENT-O&L-2] A patient with suspected EBV is given amoxicillin and then develops a diffuse maculopapular rash. Best interpretation?",
      choices: ["This is a classic EBV-associated drug rash (not necessarily a true allergy)", "This confirms diphtheria", "This proves the diagnosis is strep pharyngitis", "This indicates anaphylaxis and mandates lifelong avoidance of all beta-lactams"],
      correct: 0,
      explanation: "A rash after aminopenicillins is classically associated with EBV and does not automatically equal a true IgE allergy."
    },
    {
      q: "[ENT-O&L-2] A 20-year-old athlete is diagnosed with EBV mono. Best counseling regarding contact sports?",
      choices: ["Avoid contact sports for a period due to splenic rupture risk", "Return the next day if afebrile", "Return once sore throat resolves", "Return immediately with NSAIDs"],
      correct: 0,
      explanation: "EBV can cause splenomegaly and risk of splenic rupture; contact sports should be avoided for a period."
    },
    {
      q: "[ENT-O&L-4] A 21-year-old with sore throat and diffuse adenopathy also has prominent fatigue and posterior cervical nodes. Which feature favors EBV over strep?",
      choices: ["Posterior cervical lymphadenopathy", "Tender anterior cervical lymphadenopathy", "Absence of cough", "Palatal petechiae"],
      correct: 0,
      explanation: "Posterior cervical lymphadenopathy and fatigue are classic for EBV."
    },

    // 21–26: Peritonsillar abscess (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A patient has unilateral severe sore throat, trismus, muffled “hot potato” voice, and uvular deviation. Diagnosis?",
      choices: ["Peritonsillar abscess", "Viral pharyngitis", "Croup", "Allergic rhinitis with postnasal drip"],
      correct: 0,
      explanation: "Uvular deviation + trismus + hot potato voice is classic for peritonsillar abscess."
    },
    {
      q: "[ENT-O&L-2] Definitive management for most peritonsillar abscess cases includes:",
      choices: ["Needle aspiration or incision & drainage plus appropriate therapy", "Observation only", "Topical antifungal therapy", "Avoiding oral intake for 24 hours only"],
      correct: 0,
      explanation: "Drainage is commonly required; PTA can progress and cause complications."
    },
    {
      q: "[ENT-O&L-4] A patient with suspected PTA is drooling and looks toxic. What is the most immediate concern?",
      choices: ["Airway compromise", "Otitis externa", "Eczema flare", "Renal colic"],
      correct: 0,
      explanation: "Deep oropharyngeal infections can threaten the airway; airway assessment is priority when severe."
    },
    {
      q: "[ENT-O&L-2] Which symptom is most characteristic of peritonsillar abscess compared with uncomplicated tonsillitis?",
      choices: ["Trismus", "Mild rhinorrhea", "Conjunctivitis", "Diffuse wheezing"],
      correct: 0,
      explanation: "Trismus is a key distinguishing feature of PTA."
    },
    {
      q: "[ENT-O&L-2] A serious potential complication emphasized with abscesses of the oropharynx includes extension and vascular involvement. Which is most worrisome?",
      choices: ["Erosion into major vessels / severe complications", "Seasonal allergies", "Benign positional vertigo", "Migraine aura"],
      correct: 0,
      explanation: "Deep space infections can extend and cause severe complications; prompt treatment is emphasized."
    },
    {
      q: "[ENT-O&L-4] After treatment for PTA, a patient worsens with neck stiffness and systemic symptoms. Which complication should be considered?",
      choices: ["Deep neck space infection extension (e.g., retropharyngeal involvement)", "Otitis externa", "Conjunctivitis", "Carpal tunnel syndrome"],
      correct: 0,
      explanation: "Worsening systemic/neck symptoms after PTA raises concern for extension into deeper spaces."
    },

    // 27–31: Retropharyngeal abscess (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A 3-year-old presents with fever, drooling, refusal to eat, and neck stiffness. Most concerning diagnosis?",
      choices: ["Retropharyngeal abscess", "Viral laryngitis", "Allergic rhinitis", "TMJ disorder"],
      correct: 0,
      explanation: "Retropharyngeal abscess can present with fever, drooling, neck stiffness, and is an emergency."
    },
    {
      q: "[ENT-O&L-2] Best imaging study to evaluate suspected retropharyngeal abscess extent?",
      choices: ["CT neck with contrast", "Non-contrast head CT", "KUB X-ray", "DEXA scan"],
      correct: 0,
      explanation: "CT neck with contrast helps identify abscess location and extent."
    },
    {
      q: "[ENT-O&L-4] A child with sore throat and drooling appears toxic. You suspect a deep neck infection. First priority?",
      choices: ["Airway assessment and protection", "Send home with oral fluids", "Start PT for neck range of motion", "Order outpatient allergy testing"],
      correct: 0,
      explanation: "Deep neck infections can compromise the airway; airway comes first."
    },
    {
      q: "[ENT-O&L-2] A key feature that increases concern for a deep neck infection rather than uncomplicated viral pharyngitis is:",
      choices: ["Neck stiffness with drooling", "Cough and rhinorrhea", "Mild sore throat with normal appetite", "Conjunctivitis without fever"],
      correct: 0,
      explanation: "Neck stiffness and drooling suggest more serious pathology such as deep space infection."
    },
    {
      q: "[ENT-O&L-4] After a URI, a child develops fever and limited neck extension with muffled voice and drooling. Most appropriate disposition?",
      choices: ["Urgent evaluation in ED for imaging/airway monitoring", "Routine follow-up in 2 weeks", "Home supportive care only", "Start oral antihistamine and discharge"],
      correct: 0,
      explanation: "This presentation is concerning for retropharyngeal abscess and needs urgent workup and monitoring."
    },

    // 32–36: Croup (laryngotracheobronchitis) (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A toddler has barking cough, inspiratory stridor, and symptoms worse at night. Most likely diagnosis?",
      choices: ["Viral croup", "Epiglottitis", "Peritonsillar abscess", "Diphtheria"],
      correct: 0,
      explanation: "Barking cough + nighttime worsening + stridor strongly suggests croup."
    },
    {
      q: "[ENT-O&L-2] Which treatment is commonly used to reduce symptom severity in croup?",
      choices: ["Single-dose dexamethasone", "Routine antibiotics for all cases", "Daily warfarin", "IV antifungals"],
      correct: 0,
      explanation: "Steroids (e.g., dexamethasone) are commonly used to reduce airway inflammation in croup."
    },
    {
      q: "[ENT-O&L-4] A child with croup has stridor at rest with retractions. Next best step?",
      choices: ["Nebulized epinephrine and close observation", "Discharge without treatment", "Start penicillin VK", "Immediate tonsillectomy"],
      correct: 0,
      explanation: "Severe croup (stridor at rest) is treated with nebulized epinephrine plus steroids and observation."
    },
    {
      q: "[ENT-O&L-2] Which finding best suggests severe (rather than mild) croup?",
      choices: ["Stridor at rest with retractions", "Barking cough only", "Mild hoarseness only", "Symptoms only when running around"],
      correct: 0,
      explanation: "Stridor at rest with increased work of breathing indicates severity."
    },
    {
      q: "[ENT-O&L-4] A child is stable but has classic croup. Parent asks about typical course. Best response?",
      choices: ["It often improves with supportive care and anti-inflammatory treatment; monitor for worsening work of breathing", "It always requires IV antibiotics", "It is a surgical emergency", "It is best treated with antifungals"],
      correct: 0,
      explanation: "Croup is commonly viral and managed with supportive care; treat airway inflammation and watch for worsening."
    },

    // 37–41: Epiglottitis (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A febrile child is sitting upright, leaning forward, drooling, and has a muffled voice. Most likely diagnosis?",
      choices: ["Epiglottitis", "Croup", "Viral pharyngitis", "Allergic rhinitis"],
      correct: 0,
      explanation: "Drooling + tripod position + muffled voice is classic for epiglottitis."
    },
    {
      q: "[ENT-O&L-2] In suspected epiglottitis, what should be avoided if it may agitate the patient and worsen airway obstruction?",
      choices: ["Unnecessary throat manipulation/exam that could provoke airway compromise", "Supplemental oxygen", "Calling for help", "Airway planning"],
      correct: 0,
      explanation: "Agitation and throat manipulation can precipitate sudden airway obstruction in epiglottitis."
    },
    {
      q: "[ENT-O&L-4] Most dangerous complication of epiglottitis is:",
      choices: ["Acute airway obstruction", "Otitis externa", "Allergic conjunctivitis", "Tension headache"],
      correct: 0,
      explanation: "Epiglottitis can rapidly progress to airway obstruction and death if not managed urgently."
    },
    {
      q: "[ENT-O&L-2] A vaccinated child still develops epiglottitis-like presentation. Best next step?",
      choices: ["Treat as an airway emergency and stabilize airway before diagnostics", "Send home with oral fluids", "Start OTC antihistamines only", "Order outpatient voice therapy"],
      correct: 0,
      explanation: "Regardless of vaccine status, suspected epiglottitis is an airway emergency."
    },
    {
      q: "[ENT-O&L-4] Which clinical clue more strongly favors epiglottitis over croup?",
      choices: ["Drooling and preference to sit forward", "Barking cough", "Symptoms worse at night", "Hoarse voice after URI"],
      correct: 0,
      explanation: "Drooling and tripod positioning point to epiglottitis; barking cough/night worsening points to croup."
    },

    // 42–46: Airway foreign body (ENT-O&L-2 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A toddler suddenly starts coughing and develops unilateral wheezing after eating peanuts. Most likely diagnosis?",
      choices: ["Airway foreign body", "Viral pharyngitis", "Peritonsillar abscess", "Diphtheria"],
      correct: 0,
      explanation: "Sudden coughing after eating and unilateral wheeze strongly suggests aspiration."
    },
    {
      q: "[ENT-O&L-2] Which prevention counseling is specifically emphasized for choking hazards in young children?",
      choices: ["Avoid small toys/parts and supervise eating; discourage running/playing while chewing", "Avoid all dairy products", "Give antibiotics before meals", "Use hearing protection at school"],
      correct: 0,
      explanation: "The lecture emphasizes age-appropriate foods/toys and supervision; discourage talking/running while chewing."
    },
    {
      q: "[ENT-O&L-2] A child has suspected airway foreign body but chest X-ray is normal. Best next step if suspicion remains high?",
      choices: ["Proceed with airway evaluation (e.g., bronchoscopy/ENT/airway specialist evaluation)", "Assume it is viral and discharge", "Start antifungal therapy", "Order TSH and recheck in 6 months"],
      correct: 0,
      explanation: "A normal X-ray does not exclude foreign body (radiolucent objects). High suspicion warrants definitive airway evaluation."
    },
    {
      q: "[ENT-O&L-4] A parent reports the child was playing with a small battery and then suddenly coughed/choked. What makes this especially urgent?",
      choices: ["Batteries are high-risk foreign bodies and require urgent evaluation", "Batteries cause only mild symptoms", "It can wait for a routine clinic appointment", "It is best treated with oral antihistamines"],
      correct: 0,
      explanation: "Batteries are high-risk and require urgent evaluation due to potential severe injury."
    },
    {
      q: "[ENT-O&L-4] A child has recurrent pneumonia in the same lobe and chronic cough. One possible missed diagnosis from the lecture topic list is:",
      choices: ["Retained airway foreign body", "Allergic conjunctivitis", "Carpal tunnel syndrome", "Tinea pedis"],
      correct: 0,
      explanation: "A retained foreign body can cause recurrent infection and chronic cough/wheeze."
    },

    // 47–50: Ludwig angina + Laryngitis/Hoarseness + Diphtheria (ENT-O&L-2 / ENT-O&L-3 / ENT-O&L-4)
    {
      q: "[ENT-O&L-4] A patient develops rapidly progressive submandibular swelling after a dental infection with drooling and tongue elevation. First priority?",
      choices: ["Immediate airway assessment/protection", "Rapid strep test", "Topical antifungal therapy", "Reassurance and discharge"],
      correct: 0,
      explanation: "Ludwig angina is a deep neck infection with life-threatening airway compromise risk—airway comes first."
    },
    {
      q: "[ENT-O&L-3] Hoarseness is best defined as:",
      choices: ["An abnormal change in the voice (breathy/raspy/strained or pitch/volume change)", "Any sore throat with fever", "Any cough lasting >2 weeks", "Any nasal congestion"],
      correct: 0,
      explanation: "The lecture defines hoarseness as an abnormal change in voice quality (breathy/raspy/strained or pitch/volume change)."
    },
    {
      q: "[ENT-O&L-3] The most common cause of hoarseness noted in the lecture is:",
      choices: ["Acute laryngitis (often viral)", "Epiglottitis", "Diphtheria", "Retropharyngeal abscess"],
      correct: 0,
      explanation: "Acute laryngitis is cited as the most common cause of hoarseness (usually viral)."
    },
    {
      q: "[ENT-O&L-3] A smoker has hoarseness lasting longer than three weeks. Next best step per the lecture?",
      choices: ["ENT consultation for flexible fiberoptic laryngoscopy (FFL)", "Ignore unless fever develops", "Empiric antibiotics for 30 days", "Start allergy shots"],
      correct: 0,
      explanation: "Hoarseness >3 weeks (especially in smokers) warrants ENT evaluation (FFL/videolaryngoscopy)."
    },
    {
      q: "[ENT-O&L-2 / ENT-O&L-4] A patient has sore throat, cervical lymphadenopathy, and an adherent gray pseudomembrane. Most important early action?",
      choices: ["Treat as diphtheria concern and initiate appropriate management urgently", "Give only NSAIDs and reassurance", "Start inhaled bronchodilator", "Order routine outpatient allergy testing"],
      correct: 0,
      explanation: "Diphtheria with pseudomembrane is dangerous; urgent management is required due to toxin-related complications."
    }
  ];

  let currentIndex = 0;
  let score = 0;
  let answeredCount = 0;
  const userAnswers = new Array(questions.length).fill(null);

  const questionNumberEl = document.getElementById("question-number");
  const progressEl = document.getElementById("progress");
  const questionTextEl = document.getElementById("question-text");
  const choicesContainer = document.getElementById("choices-container");
  const feedbackEl = document.getElementById("feedback");
  const feedbackLabelEl = document.getElementById("feedback-label");
  const explanationEl = document.getElementById("explanation");
  const prevBtn = document.getElementById("prev-btn");
  const nextBtn = document.getElementById("next-btn");
  const scoreDisplay = document.getElementById("score-display");
  const finalScoreEl = document.getElementById("final-score");

  function renderQuestion(index) {
    const q = questions[index];
    questionNumberEl.textContent = `Question ${index + 1} of ${questions.length}`;
    progressEl.textContent = `Completed: ${answeredCount}/${questions.length}`;
    questionTextEl.textContent = q.q;
    choicesContainer.innerHTML = "";
    feedbackEl.className = "";
    feedbackLabelEl.textContent = "";
    explanationEl.textContent = "";

    q.choices.forEach((choice, i) => {
      const btn = document.createElement("button");
      btn.className = "choice-btn";
      btn.textContent = String.fromCharCode(65 + i) + ". " + choice;
      btn.addEventListener("click", () => handleAnswer(i));
      choicesContainer.appendChild(btn);
    });

    const prevAnswer = userAnswers[index];
    if (prevAnswer !== null) {
      showResult(prevAnswer);
    }

    prevBtn.disabled = index === 0;
    nextBtn.textContent = index === questions.length - 1 ? "Finish ⟶" : "Next ⟶";
  }

  function handleAnswer(selectedIndex) {
    if (userAnswers[currentIndex] !== null) return;
    userAnswers[currentIndex] = selectedIndex;
    answeredCount++;
    if (selectedIndex === questions[currentIndex].correct) {
      score++;
    }
    showResult(selectedIndex);
    updateScoreDisplay();
    if (answeredCount === questions.length) {
      showFinalScore();
    }
  }

  function showResult(selectedIndex) {
    const q = questions[currentIndex];
    const buttons = Array.from(document.getElementsByClassName("choice-btn"));
    buttons.forEach((btn, i) => {
      btn.classList.add("disabled");
      if (i === q.correct) btn.classList.add("correct");
      if (i === selectedIndex && i !== q.correct) btn.classList.add("incorrect");
    });
    const wasCorrect = selectedIndex === q.correct;
    feedbackEl.className = wasCorrect ? "correct" : "incorrect";
    feedbackLabelEl.textContent = wasCorrect ? "Correct!" : "Incorrect.";
    explanationEl.textContent = q.explanation;
  }

  function updateScoreDisplay() {
    scoreDisplay.textContent = `Score: ${score} / ${answeredCount}`;
  }

  function showFinalScore() {
    const percent = Math.round((score / questions.length) * 100);
    finalScoreEl.textContent = `Final score: ${score} / ${questions.length} (${percent}%)\n\nTip: If you want objective codes shown on a separate line, tell me and I’ll adjust the UI + renderQuestion() in one small edit.`;
  }

  prevBtn.addEventListener("click", () => {
    if (currentIndex > 0) {
      currentIndex--;
      renderQuestion(currentIndex);
    }
  });

  nextBtn.addEventListener("click", () => {
    if (currentIndex < questions.length - 1) {
      currentIndex++;
      renderQuestion(currentIndex);
    } else {
      showFinalScore();
      finalScoreEl.scrollIntoView({ behavior: "smooth" });
    }
  });

  // Initialize
  renderQuestion(currentIndex);
  updateScoreDisplay();
</script>

</body>
</html>
